@tailwind base;
@tailwind components;
@tailwind utilities;

/* petits helpers (facultatif) */
.btn { @apply inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-medium transition hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed; }
.btn-primary { @apply btn bg-black text-white; }
.input { @apply w-full rounded-xl border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-black; }
.label { @apply mb-1 block text-sm font-medium text-gray-700; }
.card { @apply rounded-2xl border border-gray-200 bg-white p-6 shadow-sm; }

html, body { height: 100%; }
body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }

/* ====== Skin Material en "look Tailwind" ====== */
.mat-mdc-form-field { width: 100%; }

/* Champs en mode outline : arrondis et bord fin */
.mdc-text-field--outlined .mdc-notched-outline__leading,
.mdc-text-field--outlined .mdc-notched-outline__notch,
.mdc-text-field--outlined .mdc-notched-outline__trailing {
  border-color: #e5e7eb;           /* gray-200 */
  border-width: 1px;
  border-radius: 0.75rem;          /* rounded-xl */
}

/* Focus ring */
.mdc-text-field--focused .mdc-notched-outline__leading,
.mdc-text-field--focused .mdc-notched-outline__notch,
.mdc-text-field--focused .mdc-notched-outline__trailing {
  border-color: #3b82f6 !important; /* blue-500 */
  box-shadow: 0 0 0 2px rgba(59,130,246,.15);
}

/* Hauteur et padding plus doux */
.mat-mdc-text-field-wrapper {
  border-radius: 0.75rem !important;
}
.mdc-text-field__input {
  padding-top: .625rem !important;
  padding-bottom: .625rem !important;
}

/* Labels/placeholder lisibles */
.mdc-floating-label {
  font-size: .95rem;
  color: #374151; /* gray-700 */
}
.mdc-text-field--focused .mdc-floating-label {
  color: #1f2937; /* gray-800 */
}

/* Select Material arrondi */
.mdc-select, .mat-mdc-select-trigger {
  border-radius: 0.75rem !important;
}

/* ===== Material look "Tailwind" ===== */
:root {
  /* rayon des champs Material */
  --mdc-outlined-text-field-container-shape: 12px;  /* rounded-xl */
}

/* largeur par défaut */
.mat-mdc-form-field { width: 100%; }

/* Bord fin gris et focus ring bleu */
.mdc-text-field--outlined .mdc-notched-outline__leading,
.mdc-text-field--outlined .mdc-notched-outline__notch,
.mdc-text-field--outlined .mdc-notched-outline__trailing {
  border-color: #e5e7eb; /* gray-200 */
  border-width: 1px;
}

.mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__leading,
.mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__notch,
.mdc-text-field--outlined.mdc-text-field--focused .mdc-notched-outline__trailing {
  border-color: #3b82f6 !important; /* blue-500 */
  box-shadow: 0 0 0 2px rgba(59,130,246,.15);
}

/* Hauteur et paddings confort */
.mat-mdc-text-field-wrapper { border-radius: 12px !important; }
.mdc-text-field__input {
  padding-top: .625rem !important;
  padding-bottom: .625rem !important;
}
.mdc-floating-label { color:#374151; }             /* gray-700 */
.mdc-text-field--focused .mdc-floating-label { color:#111827; } /* gray-900 */

/* Select */
.mdc-select, .mat-mdc-select-trigger { border-radius: 12px !important; }


/* === Champ "à la Tailwind" : label au-dessus, input propre, focus ring bleu === */
@layer components {
  .t-field { @apply grid gap-1; }
  .t-label { @apply text-sm font-medium text-gray-700; }
  .t-hint  { @apply text-xs text-gray-500; }

  .t-input {
    @apply block w-full rounded-xl border border-gray-300 bg-white
    px-3.5 py-2.5 text-[15px] leading-6
    placeholder:text-gray-400 shadow-sm
    outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100;
  }

  .t-textarea {
    @apply block w-full rounded-xl border border-gray-300 bg-white
    px-3.5 py-2.5 text-[15px] leading-6 min-h-[120px]
    placeholder:text-gray-400 shadow-sm
    outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100;
  }

  .t-select {
    @apply block w-full rounded-xl border border-gray-300 bg-white
    px-3.5 py-2.5 text-[15px] leading-6
    shadow-sm outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right .65rem center;
    background-size: 16px 16px;
    padding-right: 2.25rem; /* place pour la flèche */
  }

  .t-error { @apply text-xs text-red-600; }
}

/* État invalide Angular (facultatif) */
input.t-input.ng-invalid.ng-touched,
textarea.t-textarea.ng-invalid.ng-touched,
select.t-select.ng-invalid.ng-touched {
  border-color: #ef4444; /* red-500 */
}
